[2025-07-18 01:54:44.301][INFO ] ImGui Inspector UI initialized successfully
[2025-07-18 01:54:44.303][INFO ] NetworkManager initialized successfully
[2025-07-18 01:54:44.303][INFO ] NetworkUI initialized successfully
[2025-07-18 01:54:44.303][INFO ] Network thread started
[2025-07-18 01:54:44.303][INFO ] Network packet handlers initialized
[2025-07-18 01:54:44.305][INFO ] Found 1 player entities to render
[2025-07-18 01:54:52.044][INFO ] Framebuffer resized to: 1278x664
[2025-07-18 01:54:55.459][INFO ] Network thread: Attempting connection to localhost:7777
[2025-07-18 01:54:55.459][INFO ] Starting async connection to localhost:7777
[2025-07-18 01:54:55.469][INFO ] Connected to server localhost:7777, waiting for peer ID assignment
[2025-07-18 01:54:55.481][INFO ] Received peer ID assignment: 1
[2025-07-18 01:54:55.481][INFO ] Processing PLAYER_JOIN packet for player Player_0 (senderID: 0, packetID: 0)
[2025-07-18 01:54:55.481][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:54:55.481][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:54:55.482][INFO ] Network player Player_0 joined and entity created (ID: 0, EntityID: 7)
[2025-07-18 01:54:55.482][INFO ] Total network players now: 1
[2025-07-18 01:54:55.482][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:54:55.482][INFO ] === CONNECTED TO SERVER ===
[2025-07-18 01:54:55.482][INFO ] Connected to server: Connected with assigned peer ID 1
[2025-07-18 01:54:55.482][INFO ] Assigned client network ID: 1
[2025-07-18 01:54:55.482][INFO ] Current network players at connection: 1
[2025-07-18 01:54:55.482][INFO ] Sending player join packet to server...
[2025-07-18 01:54:55.482][INFO ] Sent player join packet to server
[2025-07-18 01:54:55.491][INFO ] Found 2 player entities to render
[2025-07-18 01:54:55.552][INFO ] SendPlayerMovement: playerID=1, pos=(640.000000,360.000000)
[2025-07-18 01:54:55.582][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(640.000000,360.000000), networkPlayers.size=1
[2025-07-18 01:54:57.674][INFO ] Processing PLAYER_JOIN packet for player Player_2 (senderID: 0, packetID: 2)
[2025-07-18 01:54:57.674][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:54:57.674][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:54:57.674][INFO ] Network player Player_2 joined and entity created (ID: 0, EntityID: 8)
[2025-07-18 01:54:57.674][INFO ] Total network players now: 1
[2025-07-18 01:54:57.674][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:54:57.678][INFO ] Found 3 player entities to render
[2025-07-18 01:55:01.651][INFO ] Updated player 0 position to (677.997253,267.226959)
[2025-07-18 01:55:01.668][INFO ] Processing PLAYER_JOIN packet for player Player_3 (senderID: 0, packetID: 3)
[2025-07-18 01:55:01.668][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:55:01.668][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:55:01.668][INFO ] Network player Player_3 joined and entity created (ID: 0, EntityID: 9)
[2025-07-18 01:55:01.668][INFO ] Total network players now: 1
[2025-07-18 01:55:01.668][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:55:01.672][INFO ] Found 4 player entities to render
[2025-07-18 01:55:01.755][INFO ] SendPlayerMovement: playerID=1, pos=(860.804199,203.039642)
[2025-07-18 01:55:01.758][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(677.997253,267.226959), networkPlayers.size=1
[2025-07-18 01:55:07.865][INFO ] Updated player 0 position to (833.644165,238.251114)
[2025-07-18 01:55:07.946][INFO ] SendPlayerMovement: playerID=1, pos=(779.858215,114.734520)
[2025-07-18 01:55:07.962][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(833.644165,238.251114), networkPlayers.size=1
[2025-07-18 01:55:14.056][INFO ] Updated player 0 position to (830.344421,336.982513)
[2025-07-18 01:55:14.133][INFO ] SendPlayerMovement: playerID=1, pos=(826.206116,150.480057)
[2025-07-18 01:55:14.156][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,336.982513), networkPlayers.size=1
[2025-07-18 01:55:20.268][INFO ] Updated player 0 position to (830.344421,305.142975)
[2025-07-18 01:55:20.339][INFO ] SendPlayerMovement: playerID=1, pos=(826.206116,166.115265)
[2025-07-18 01:55:20.373][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,305.142975), networkPlayers.size=1
[2025-07-18 01:55:26.473][INFO ] Updated player 0 position to (830.344421,305.142975)
[2025-07-18 01:55:26.539][INFO ] SendPlayerMovement: playerID=1, pos=(826.206116,166.115265)
[2025-07-18 01:55:26.578][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,305.142975), networkPlayers.size=1
[2025-07-18 01:55:31.906][INFO ] Processing PLAYER_JOIN packet for player Player_4 (senderID: 0, packetID: 4)
[2025-07-18 01:55:31.906][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:55:31.906][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:55:31.906][INFO ] Network player Player_4 joined and entity created (ID: 0, EntityID: 10)
[2025-07-18 01:55:31.906][INFO ] Total network players now: 1
[2025-07-18 01:55:31.906][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:55:31.911][INFO ] Found 5 player entities to render
[2025-07-18 01:55:32.644][INFO ] Updated player 0 position to (830.344421,305.142975)
[2025-07-18 01:55:32.710][INFO ] SendPlayerMovement: playerID=1, pos=(826.206116,166.115265)
[2025-07-18 01:55:32.750][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,305.142975), networkPlayers.size=1
[2025-07-18 01:55:38.794][INFO ] Updated player 0 position to (830.344421,305.142975)
[2025-07-18 01:55:38.899][INFO ] SendPlayerMovement: playerID=1, pos=(826.206116,151.132462)
[2025-07-18 01:55:38.900][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,305.142975), networkPlayers.size=1
[2025-07-18 01:55:44.972][INFO ] Updated player 0 position to (830.344421,305.142975)
[2025-07-18 01:55:45.072][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,305.142975), networkPlayers.size=1
[2025-07-18 01:55:45.089][INFO ] SendPlayerMovement: playerID=1, pos=(826.206116,151.132462)
[2025-07-18 01:55:50.317][INFO ] === NetworkUI::Disconnect() CALLED ===
[2025-07-18 01:55:50.317][INFO ] Client disconnect requested via NetworkUI
[2025-07-18 01:55:50.317][INFO ] Calling manager.DisconnectFromServer() - this bypasses Game cleanup!
[2025-07-18 01:55:50.323][INFO ] Disconnected from server: User requested disconnect
[2025-07-18 01:55:50.324][INFO ] Immediately triggering SERVER_DISCONNECTED callback...
[2025-07-18 01:55:50.324][INFO ] === SERVER DISCONNECTED ===
[2025-07-18 01:55:50.324][INFO ] Disconnected from server: User requested disconnect
[2025-07-18 01:55:50.324][INFO ] Network players before SERVER_DISCONNECTED cleanup: 1
[2025-07-18 01:55:50.324][INFO ] Reset network ID to 0
[2025-07-18 01:55:50.324][INFO ] Clearing all network players...
[2025-07-18 01:55:50.324][INFO ] Clearing 1 network players:
[2025-07-18 01:55:50.324][INFO ]   - Removing player ID: 0, Entity ID: 10
[2025-07-18 01:55:50.324][INFO ] -   Made entity invisible before destruction
[2025-07-18 01:55:50.324][INFO ] All network players cleared
[2025-07-18 01:55:50.324][INFO ] Forcing network event processing to trigger cleanup...
[2025-07-18 01:55:50.329][INFO ] Found 4 player entities to render
[2025-07-18 01:55:53.980][INFO ] Starting async connection to localhost:7777
[2025-07-18 01:55:53.980][INFO ] Network thread: Attempting connection to localhost:7777
[2025-07-18 01:55:53.984][INFO ] === SERVER DISCONNECTED ===
[2025-07-18 01:55:53.984][INFO ] Connected to server localhost:7777, waiting for peer ID assignment
[2025-07-18 01:55:53.984][INFO ] Disconnected from server: User requested disconnect
[2025-07-18 01:55:53.984][INFO ] Network players before SERVER_DISCONNECTED cleanup: 0
[2025-07-18 01:55:53.984][INFO ] Reset network ID to 0
[2025-07-18 01:55:53.984][INFO ] Clearing all network players...
[2025-07-18 01:55:53.984][INFO ] Clearing 0 network players:
[2025-07-18 01:55:53.984][INFO ] All network players cleared
[2025-07-18 01:55:53.995][INFO ] Received peer ID assignment: 5
[2025-07-18 01:55:53.995][INFO ] === CONNECTED TO SERVER ===
[2025-07-18 01:55:53.995][INFO ] Connected to server: Connected with assigned peer ID 5
[2025-07-18 01:55:53.995][INFO ] Assigned client network ID: 5
[2025-07-18 01:55:53.995][INFO ] Current network players at connection: 0
[2025-07-18 01:55:53.995][INFO ] Sending player join packet to server...
[2025-07-18 01:55:53.995][INFO ] Sent player join packet to server
[2025-07-18 01:55:54.008][INFO ] Processing PLAYER_JOIN packet for player Player_0 (senderID: 0, packetID: 0)
[2025-07-18 01:55:54.008][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:55:54.008][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:55:54.008][INFO ] Network player Player_0 joined and entity created (ID: 0, EntityID: 10)
[2025-07-18 01:55:54.008][INFO ] Total network players now: 1
[2025-07-18 01:55:54.008][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:55:54.019][INFO ] Found 5 player entities to render
[2025-07-18 01:55:54.827][INFO ] Updated player 0 position to (830.344421,305.142975)
[2025-07-18 01:55:54.933][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=3131961357, pos=(830.344421,305.142975), networkPlayers.size=1
[2025-07-18 01:55:54.988][INFO ] SendPlayerMovement: playerID=5, pos=(826.206116,151.132462)
[2025-07-18 01:55:55.152][INFO ] Processing PLAYER_JOIN packet for player Player_6 (senderID: 0, packetID: 6)
[2025-07-18 01:55:55.152][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:55:55.152][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:55:55.152][INFO ] Network player Player_6 joined and entity created (ID: 0, EntityID: 11)
[2025-07-18 01:55:55.152][INFO ] Total network players now: 1
[2025-07-18 01:55:55.152][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:55:55.157][INFO ] Found 6 player entities to render
[2025-07-18 01:55:56.058][INFO ] Processing PLAYER_JOIN packet for player Player_7 (senderID: 0, packetID: 7)
[2025-07-18 01:55:56.058][INFO ] RenderableComponent added and configured for network player
[2025-07-18 01:55:56.058][INFO ] PlayerComponent added and configured for network player
[2025-07-18 01:55:56.059][INFO ] Network player Player_7 joined and entity created (ID: 0, EntityID: 12)
[2025-07-18 01:55:56.059][INFO ] Total network players now: 1
[2025-07-18 01:55:56.059][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 01:55:56.069][INFO ] Found 7 player entities to render
[2025-07-18 01:55:59.071][INFO ] Game Closing
[2025-07-18 01:55:59.071][INFO ] Game Shutdown
[2025-07-18 01:55:59.084][INFO ] Auto-saved scene to autosave_scene.yaml
[2025-07-18 01:55:59.085][INFO ] ImGui Inspector UI shutdown complete
[2025-07-18 01:55:59.085][INFO ] Network thread stopped
[2025-07-18 01:56:02.084][INFO ] Disconnected from server: Shutting down
[2025-07-18 01:56:02.084][INFO ] Immediately triggering SERVER_DISCONNECTED callback...
[2025-07-18 01:56:02.084][INFO ] === SERVER DISCONNECTED ===
[2025-07-18 01:56:02.084][INFO ] Disconnected from server: Shutting down
[2025-07-18 01:56:02.085][INFO ] Network players before SERVER_DISCONNECTED cleanup: 1
[2025-07-18 01:56:02.085][INFO ] Reset network ID to 0
[2025-07-18 01:56:02.085][INFO ] Clearing all network players...
[2025-07-18 01:56:02.085][INFO ] Clearing 1 network players:
[2025-07-18 01:56:02.085][INFO ]   - Removing player ID: 0, Entity ID: 12
[2025-07-18 01:56:02.085][INFO ] -   Made entity invisible before destruction
[2025-07-18 01:56:02.085][INFO ] All network players cleared
[2025-07-18 01:56:02.085][INFO ] NetworkManager shut down
[2025-07-18 01:56:02.085][INFO ] NetworkUI shut down
[2025-07-18 02:00:47.251][INFO ] Fog shader created with ID: 6
[2025-07-18 02:00:47.253][INFO ] Vision shader created with ID: 9
[2025-07-18 02:00:47.254][INFO ] Light shader created with ID: 12
[2025-07-18 02:00:47.254][INFO ] ECS Scene setup complete with 6 entities
[2025-07-18 02:00:47.254][INFO ] Game Init
[2025-07-18 02:00:47.254][INFO ] Press TAB to cycle between Fog, Vision, and Lighting systems
[2025-07-18 02:00:47.255][INFO ] Use WASD to move and change facing direction
[2025-07-18 02:00:47.255][INFO ] Press F5 to save scene, F9 to load scene
[2025-07-18 02:00:47.255][INFO ] Press F1 to toggle ECS Inspector
[2025-07-18 02:00:47.255][INFO ] Press F6 to toggle Network UI
[2025-07-18 02:00:47.255][INFO ] Press F7 to disconnect from server
[2025-07-18 02:00:47.255][INFO ] Initializing ImGui Inspector UI
[2025-07-18 02:00:47.256][INFO ] ImGui Inspector UI initialized successfully
[2025-07-18 02:00:47.257][INFO ] NetworkManager initialized successfully
[2025-07-18 02:00:47.257][INFO ] NetworkUI initialized successfully
[2025-07-18 02:00:47.257][INFO ] Network thread started
[2025-07-18 02:00:47.257][INFO ] Network packet handlers initialized
[2025-07-18 02:00:47.259][INFO ] Found 1 player entities to render
[2025-07-18 02:00:49.126][INFO ] Framebuffer resized to: 1278x664
[2025-07-18 02:00:53.815][INFO ] Starting async connection to localhost:7777
[2025-07-18 02:00:53.815][INFO ] Network thread: Attempting connection to localhost:7777
[2025-07-18 02:00:53.827][INFO ] Connected to server localhost:7777, waiting for peer ID assignment
[2025-07-18 02:00:53.847][INFO ] === PEER ID ASSIGNMENT ===
[2025-07-18 02:00:53.847][INFO ] Received peer ID assignment: 1 (old ID was: 0)
[2025-07-18 02:00:53.848][INFO ] NetworkManager.GetLocalPeerID() now returns: 1
[2025-07-18 02:00:53.848][INFO ] Processing PLAYER_JOIN packet for player Player_0 (senderID: 0, packetID: 0)
[2025-07-18 02:00:53.848][INFO ] RenderableComponent added and configured for network player
[2025-07-18 02:00:53.848][INFO ] PlayerComponent added and configured for network player
[2025-07-18 02:00:53.848][INFO ] Network player Player_0 joined and entity created (ID: 0, EntityID: 7)
[2025-07-18 02:00:53.848][INFO ] Total network players now: 1
[2025-07-18 02:00:53.848][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 02:00:53.848][INFO ] === CONNECTED TO SERVER ===
[2025-07-18 02:00:53.848][INFO ] Connected to server: Connected with assigned peer ID 1
[2025-07-18 02:00:53.848][INFO ] Assigned client network ID: 1
[2025-07-18 02:00:53.848][INFO ] Current network players at connection: 1
[2025-07-18 02:00:53.848][INFO ] Sending player join packet to server...
[2025-07-18 02:00:53.848][INFO ] Sent player join packet to server
[2025-07-18 02:00:53.854][INFO ] Found 2 player entities to render
[2025-07-18 02:00:53.854][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=0, pos=(640.000000,360.000000), networkPlayers.size=1
[2025-07-18 02:00:53.898][INFO ] SendPlayerMovement: playerID=1, pos=(640.000000,360.000000), mode=CLIENT
[2025-07-18 02:00:56.725][INFO ] Processing PLAYER_JOIN packet for player Player_2 (senderID: 0, packetID: 2)
[2025-07-18 02:00:56.725][INFO ] RenderableComponent added and configured for network player
[2025-07-18 02:00:56.725][INFO ] PlayerComponent added and configured for network player
[2025-07-18 02:00:56.725][INFO ] Network player Player_2 joined and entity created (ID: 0, EntityID: 8)
[2025-07-18 02:00:56.725][INFO ] Total network players now: 1
[2025-07-18 02:00:56.725][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 02:00:56.729][INFO ] Found 3 player entities to render
[2025-07-18 02:00:59.971][INFO ] Updated player 0 position to (646.879883,359.127747)
[2025-07-18 02:01:00.074][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=0, pos=(646.879883,359.127747), networkPlayers.size=1
[2025-07-18 02:01:00.080][INFO ] SendPlayerMovement: playerID=1, pos=(773.097534,146.610565), mode=CLIENT
[2025-07-18 02:01:01.047][INFO ] Processing PLAYER_JOIN packet for player Player_3 (senderID: 0, packetID: 3)
[2025-07-18 02:01:01.047][INFO ] RenderableComponent added and configured for network player
[2025-07-18 02:01:01.047][INFO ] PlayerComponent added and configured for network player
[2025-07-18 02:01:01.048][INFO ] Network player Player_3 joined and entity created (ID: 0, EntityID: 9)
[2025-07-18 02:01:01.048][INFO ] Total network players now: 1
[2025-07-18 02:01:01.048][INFO ] Entity components check - Transform: YES, Player: YES, Renderable: YES
[2025-07-18 02:01:01.052][INFO ] Found 4 player entities to render
[2025-07-18 02:01:06.158][INFO ] Updated player 0 position to (646.879883,359.127747)
[2025-07-18 02:01:06.257][INFO ] SendPlayerMovement: playerID=1, pos=(743.074402,223.268936), mode=CLIENT
[2025-07-18 02:01:06.257][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=0, pos=(646.879883,359.127747), networkPlayers.size=1
[2025-07-18 02:01:12.336][INFO ] Updated player 0 position to (624.954651,408.163452)
[2025-07-18 02:01:12.440][INFO ] PLAYER_MOVE received: senderID=0, packetPlayerID=0, pos=(624.954651,408.163452), networkPlayers.size=1
[2025-07-18 02:01:12.467][INFO ] SendPlayerMovement: playerID=1, pos=(850.217407,150.762955), mode=CLIENT
[2025-07-18 02:01:17.345][INFO ] Game Closing
[2025-07-18 02:01:17.345][INFO ] Game Shutdown
[2025-07-18 02:01:17.354][INFO ] Auto-saved scene to autosave_scene.yaml
[2025-07-18 02:01:17.355][INFO ] ImGui Inspector UI shutdown complete
[2025-07-18 02:01:17.355][INFO ] Network thread stopped
[2025-07-18 02:01:17.358][INFO ] Disconnected from server: Shutting down
[2025-07-18 02:01:17.358][INFO ] Immediately triggering SERVER_DISCONNECTED callback...
[2025-07-18 02:01:17.358][INFO ] === SERVER DISCONNECTED ===
[2025-07-18 02:01:17.359][INFO ] Disconnected from server: Shutting down
[2025-07-18 02:01:17.359][INFO ] Network players before SERVER_DISCONNECTED cleanup: 1
[2025-07-18 02:01:17.359][INFO ] Reset network ID to 0
[2025-07-18 02:01:17.359][INFO ] Clearing all network players...
[2025-07-18 02:01:17.359][INFO ] Clearing 1 network players:
[2025-07-18 02:01:17.359][INFO ]   - Removing player ID: 0, Entity ID: 9
[2025-07-18 02:01:17.359][INFO ] -   Made entity invisible before destruction
[2025-07-18 02:01:17.359][INFO ] All network players cleared
[2025-07-18 02:01:17.359][INFO ] NetworkManager shut down
[2025-07-18 02:01:17.359][INFO ] NetworkUI shut down
